<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="goal.mapper.BoardFileMapper">
	<resultMap type="goal.vo.BoardFileVO" id="boardFileVO">
		<id property="uuid" column="uuid"/>
		<id property="fileName" column="filename"/>
		<id property="fileUrl" column="fileUrl"/>
		<id property="bno" column="bno"/>
		<id property="fileCnt" column="fileCnt"/>
	</resultMap>
	<insert id="fileInsert" parameterType="goal.vo.BoardFileVO">
       INSERT INTO GK_FILE (uuid, bno, fileName, fileUrl, fileCnt)
	   VALUES (#{uuid} ,#{bno},#{fileName},#{fileUrl}, #{fileCnt})
	</insert>

	<select id="getBoardFileList" resultMap="boardFileVO">
		<![CDATA[
			SELECT FileURL FROM GK_FILE where bno = #{bno}
		]]>
	</select>
	
	<select id="selectFileName" resultMap="boardFileVO">
		<![CDATA[
			SELECT * FROM GK_FILE
		]]>
	</select>
	<delete id="removeBoardFile" parameterType="int">
		<![CDATA[
			delete GK_FILE WHERE bno=#{bno}
		]]> 
	</delete>
	<select id="selectFile" parameterType="int" resultMap="boardFileVO">
		select * from GK_FILE where bno=#{bno}
	</select>
</mapper>