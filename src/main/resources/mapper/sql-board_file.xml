<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="goal.mapper.BoardFileMapper">
	<resultMap type="goal.vo.BoardFileVO" id="boardFileVO">
		<id property="uuid" column="uuid"/>
		<id property="i_filename" column="i_filename"/>
		<id property="i_path" column="i_path"/>
		<id property="bno" column="bno"/>
	</resultMap>
	<insert id="insertBoardFile" parameterType="java.util.List">
			insert all
		<foreach collection="list" item="item" index="index"  open="" separator=" " close="SELECT * FROM DUAL">
			into GK_FILE (UUID, I_FILENAME, I_PATH, BNO)
			values  
			(#{item.uuid}, #{item.i_filename}, #{item.i_path}, #{item.bno})
		</foreach>
	</insert>

	<select id="selectFileName" resultMap="boardFileVO">
		<![CDATA[
			SELECT * FROM GK_FILE
		]]>
	</select>
	<delete id="removeBoardFile" parameterType="int">
		<![CDATA[
			delete GK_FILE WHERE bno=#{bno}
		]]> 
	</delete>
</mapper>